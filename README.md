## Инструкция

Данный набор скриптов предназначен для запуска на хостовой машине с ОС Debian 10.

### Настройка системы 
Данный скрипт должен запускаться от имени пользователя, который будет работать с docker.
Во время выполнения скрипт запросит пароль пользотвателя root.
```bash
wget https://raw.githubusercontent.com/wotomg/ddg-test/main/start.sh && bash start.sh
```
По окончанию работы скрипта нужно перелогиниться, чтобы применить добавление группы docker к пользователю.

### Разворачиваем контейнеры
1. Повтороно переходим в диреткторию проекта (после перелогивания)
```bash
cd ddg-test-main
```

2. Редактируем файлы c переменными mysql.env и .env

2. Запускаем сборку контейнеров
```bash
docker-compose up -d
```

## TODO
- [x] Установить debian 10
- [x] Установка docker, docker-compose
- [x] Права docker
- [x] Установить node exporter на систему хоста
- [x] контейнер grafana
	- [x] Разобраться где хранятся конфиги, dashboards, datasource
	- [x] Создать datasource для prometheus
	- [x] Разобраться с PromQL
	- [ ] Создать dashboard Mysql
	- [x] Создать dashboard OS General
- [x] Контейнер prometheus
	- [x] Добавить сбор метрик с хоста
- [x] Контейнер mysql
	- [ ] Создание пользователя только для чтения
- [x] Контйнер nginx
	- [x] Настройка reverse proxy
- [x] Нужно уменьшить вывод лишней информции во время работы скрипта
- [ ] Добавить "обработку ошибок" в скрипте
